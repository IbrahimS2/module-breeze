/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/@hotwired/turbo@7.0.0-rc.1/dist/turbo.es5-umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Turbo={})}(this,(function(e){"use strict";!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var e=HTMLElement,t=function(){return Reflect.construct(e,[],this.constructor)};window.HTMLElement=t,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}();var t=new WeakMap;function n(e){var n,r,o,i=(n=e.target,r=n instanceof Element?n:n instanceof Node?n.parentElement:null,"submit"==(null==(o=r?r.closest("input, button"):null)?void 0:o.type)?o:null);i&&i.form&&t.set(i.form,i)}"SubmitEvent"in window||(addEventListener("click",n,!0),Object.defineProperty(Event.prototype,"submitter",{get:function(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return t.get(this.target)}}));
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i,s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function p(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}function h(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}!function(e){e.eager="eager",e.lazy="lazy"}(i||(i={}));var d=function(e){function t(){var n=e.call(this)||this;return n.loaded=Promise.resolve(),n.delegate=new t.delegateConstructor(n),n}return o(t,e),Object.defineProperty(t,"observedAttributes",{get:function(){return["disabled","loading","src"]},enumerable:!1,configurable:!0}),t.prototype.connectedCallback=function(){this.delegate.connect()},t.prototype.disconnectedCallback=function(){this.delegate.disconnect()},t.prototype.reload=function(){var e=this.src;this.src=null,this.src=e},t.prototype.attributeChangedCallback=function(e){"loading"==e?this.delegate.loadingStyleChanged():"src"==e?this.delegate.sourceURLChanged():this.delegate.disabledChanged()},Object.defineProperty(t.prototype,"src",{get:function(){return this.getAttribute("src")},set:function(e){e?this.setAttribute("src",e):this.removeAttribute("src")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return function(e){switch(e.toLowerCase()){case"lazy":return i.lazy;default:return i.eager}}(this.getAttribute("loading")||"")},set:function(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.hasAttribute("disabled")},set:function(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoscroll",{get:function(){return this.hasAttribute("autoscroll")},set:function(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"complete",{get:function(){return!this.delegate.isLoading},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this.ownerDocument===document&&!this.isPreview},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreview",{get:function(){var e,t;return null===(t=null===(e=this.ownerDocument)||void 0===e?void 0:e.documentElement)||void 0===t?void 0:t.hasAttribute("data-turbo-preview")},enumerable:!1,configurable:!0}),t}(HTMLElement);function f(e){return new URL(e.toString(),document.baseURI)}function m(e){var t;return e.hash?e.hash.slice(1):(t=e.href.match(/#(.*)$/))?t[1]:void 0}function y(e){return(function(e){return function(e){return e.pathname.split("/").slice(1)}(e).slice(-1)[0]}(e).match(/\.[^.]*$/)||[])[0]||""}function b(e,t){var n=function(e){return t=e.origin+e.pathname,t.endsWith("/")?t:t+"/";var t}(t);return e.href===f(n).href||e.href.startsWith(n)}function g(e){var t=m(e);return null!=t?e.href.slice(0,-(t.length+1)):e.href}function v(e){return g(e)}var w,S=function(){function e(e){this.response=e}return Object.defineProperty(e.prototype,"succeeded",{get:function(){return this.response.ok},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failed",{get:function(){return!this.succeeded},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientError",{get:function(){return this.statusCode>=400&&this.statusCode<=499},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverError",{get:function(){return this.statusCode>=500&&this.statusCode<=599},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"redirected",{get:function(){return this.response.redirected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return f(this.response.url)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHTML",{get:function(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statusCode",{get:function(){return this.response.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contentType",{get:function(){return this.header("Content-Type")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseText",{get:function(){return this.response.text()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseHTML",{get:function(){return this.isHTML?this.response.text():Promise.resolve(void 0)},enumerable:!1,configurable:!0}),e.prototype.header=function(e){return this.response.headers.get(e)},e}();function E(e,t){var n=void 0===t?{}:t,r=n.target,o=n.cancelable,i=n.detail,s=new CustomEvent(e,{cancelable:o,bubbles:!0,detail:i});return(r||document.documentElement).dispatchEvent(s),s}function P(){return new Promise((function(e){return requestAnimationFrame((function(){return e()}))}))}function L(e){return void 0===e&&(e=""),(new DOMParser).parseFromString(e,"text/html")}function R(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=C(e,t).replace(/^\n/,"").split("\n"),o=r[0].match(/^\s+/),i=o?o[0].length:0;return r.map((function(e){return e.slice(i)})).join("\n")}function C(e,t){return e.reduce((function(e,n,r){return e+n+(null==t[r]?"":t[r])}),"")}function O(){return Array.apply(null,{length:36}).map((function(e,t){return 8==t||13==t||18==t||23==t?"-":14==t?"4":19==t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16)})).join("")}!function(e){e[e.get=0]="get",e[e.post=1]="post",e[e.put=2]="put",e[e.patch=3]="patch",e[e.delete=4]="delete"}(w||(w={}));var T=function(){function e(e,t,n,r){void 0===r&&(r=new URLSearchParams),this.abortController=new AbortController,this.resolveRequestPromise=function(e){},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.isIdempotent?this.url=function(e,t){var n,r,o=new URLSearchParams(e.search);try{for(var i=u(t),s=i.next();!s.done;s=i.next()){var a=l(s.value,2),c=a[0],p=a[1];p instanceof File||(o.has(c)?(o.delete(c),e.searchParams.set(c,p)):e.searchParams.append(c,p))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}(n,p(r.entries())):(this.body=r,this.url=n)}return Object.defineProperty(e.prototype,"location",{get:function(){return this.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.url.searchParams},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"entries",{get:function(){return this.body?Array.from(this.body.entries()):[]},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this.abortController.abort()},e.prototype.perform=function(){var e,t;return a(this,void 0,void 0,(function(){var n,r,o;return c(this,(function(i){switch(i.label){case 0:return n=this.fetchOptions,null===(t=(e=this.delegate).prepareHeadersForRequest)||void 0===t||t.call(e,this.headers,this),[4,this.allowRequestToBeIntercepted(n)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,6,7]),this.delegate.requestStarted(this),[4,fetch(this.url.href,n)];case 3:return r=i.sent(),[4,this.receive(r)];case 4:return[2,i.sent()];case 5:throw o=i.sent(),this.delegate.requestErrored(this,o),o;case 6:return this.delegate.requestFinished(this),[7];case 7:return[2]}}))}))},e.prototype.receive=function(e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){return t=new S(e),E("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t}}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),[2,t]}))}))},Object.defineProperty(e.prototype,"fetchOptions",{get:function(){return{method:w[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.body,signal:this.abortSignal}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultHeaders",{get:function(){return{Accept:"text/html, application/xhtml+xml"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return this.method==w.get},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"abortSignal",{get:function(){return this.abortController.signal},enumerable:!1,configurable:!0}),e.prototype.allowRequestToBeIntercepted=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){switch(r.label){case 0:return t=new Promise((function(e){return n.resolveRequestPromise=e})),E("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url.href,resume:this.resolveRequestPromise}}).defaultPrevented?[4,t]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e}();var A,k,j=function(){function e(e,t){var n=this;this.started=!1,this.intersect=function(e){var t=e.slice(-1)[0];(null==t?void 0:t.isIntersecting)&&n.delegate.elementAppearedInViewport(n.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}return e.prototype.start=function(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))},e.prototype.stop=function(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))},e}(),I=function(){function e(e){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=e}return e.wrap=function(e){return"string"==typeof e?new this(e):e},Object.defineProperty(e.prototype,"fragment",{get:function(){var e,t,n=document.createDocumentFragment();try{for(var r=u(this.foreignElements),o=r.next();!o.done;o=r.next()){var i=o.value;n.appendChild(document.importNode(i,!0))}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"foreignElements",{get:function(){return this.templateChildren.reduce((function(e,t){return"turbo-stream"==t.tagName.toLowerCase()?p(e,[t]):e}),[])},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"templateChildren",{get:function(){return Array.from(this.templateElement.content.children)},enumerable:!1,configurable:!0}),e.contentType="text/vnd.turbo-stream.html",e}();!function(e){e[e.initialized=0]="initialized",e[e.requesting=1]="requesting",e[e.waiting=2]="waiting",e[e.receiving=3]="receiving",e[e.stopping=4]="stopping",e[e.stopped=5]="stopped"}(A||(A={})),function(e){e.urlEncoded="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.plain="text/plain"}(k||(k={}));var F=function(){function e(e,t,n,r){void 0===r&&(r=!1),this.state=A.initialized,this.delegate=e,this.formElement=t,this.submitter=n,this.formData=function(e,t){var n=new FormData(e),r=null==t?void 0:t.getAttribute("name"),o=null==t?void 0:t.getAttribute("value");r&&null!=o&&n.get(r)!=o&&n.append(r,o);return n}(t,n),this.fetchRequest=new T(this,this.method,this.location,this.body),this.mustRedirect=r}return Object.defineProperty(e.prototype,"method",{get:function(){var e;return function(e){switch(e.toLowerCase()){case"get":return w.get;case"post":return w.post;case"put":return w.put;case"patch":return w.patch;case"delete":return w.delete}}(((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"").toLowerCase())||w.get},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"action",{get:function(){var e;return(null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formaction"))||this.formElement.action},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"location",{get:function(){return f(this.action)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this.enctype==k.urlEncoded||this.method==w.get?new URLSearchParams(this.stringFormData):this.formData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enctype",{get:function(){var e;return function(e){switch(e.toLowerCase()){case k.multipart:return k.multipart;case k.plain:return k.plain;default:return k.urlEncoded}}((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIdempotent",{get:function(){return this.fetchRequest.isIdempotent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stringFormData",{get:function(){return p(this.formData).reduce((function(e,t){var n=l(t,2),r=n[0],o=n[1];return e.concat("string"==typeof o?[[r,o]]:[])}),[])},enumerable:!1,configurable:!0}),e.prototype.start=function(){return a(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){return e=A.initialized,t=A.requesting,this.state==e?(this.state=t,[2,this.fetchRequest.perform()]):[2]}))}))},e.prototype.stop=function(){var e=A.stopping,t=A.stopped;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0},e.prototype.prepareHeadersForRequest=function(e,t){if(!t.isIdempotent){var n=function(e){if(null!=e){var t=(document.cookie?document.cookie.split("; "):[]).find((function(t){return t.startsWith(e)}));if(t){var n=t.split("=").slice(1).join("=");return n?decodeURIComponent(n):void 0}}}(M("csrf-param"))||M("csrf-token");n&&(e["X-CSRF-Token"]=n),e.Accept=[I.contentType,e.Accept].join(", ")}},e.prototype.requestStarted=function(e){this.state=A.waiting,E("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)},e.prototype.requestPreventedHandlingResponse=function(e,t){this.result={success:t.succeeded,fetchResponse:t}},e.prototype.requestSucceededWithResponse=function(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&function(e){return 200==e.statusCode&&!e.redirected}(t)){var n=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,n)}else this.state=A.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)},e.prototype.requestFailedWithResponse=function(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)},e.prototype.requestErrored=function(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)},e.prototype.requestFinished=function(e){this.state=A.stopped,E("turbo:submit-end",{target:this.formElement,detail:s({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)},e.prototype.requestMustRedirect=function(e){return!e.isIdempotent&&this.mustRedirect},e}();function M(e){var t=document.querySelector('meta[name="'+e+'"]');return t&&t.content}var H=function(){function e(e){this.element=e}return Object.defineProperty(e.prototype,"children",{get:function(){return p(this.element.children)},enumerable:!1,configurable:!0}),e.prototype.hasAnchor=function(e){return null!=this.getElementForAnchor(e)},e.prototype.getElementForAnchor=function(e){try{return this.element.querySelector("[id='"+e+"'], a[name='"+e+"']")}catch(e){return null}},Object.defineProperty(e.prototype,"isConnected",{get:function(){return this.element.isConnected},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstAutofocusableElement",{get:function(){return this.element.querySelector("[autofocus]")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"permanentElements",{get:function(){return p(this.element.querySelectorAll("[id][data-turbo-permanent]"))},enumerable:!1,configurable:!0}),e.prototype.getPermanentElementById=function(e){return this.element.querySelector("#"+e+"[data-turbo-permanent]")},e.prototype.getPermanentElementMapForSnapshot=function(e){var t,n,r={};try{for(var o=u(this.permanentElements),i=o.next();!i.done;i=o.next()){var s=i.value,a=s.id,c=e.getPermanentElementById(a);c&&(r[a]=[s,c])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r},e}(),q=function(){function e(e,t){var n=this;this.submitBubbled=function(e){if(e.target instanceof HTMLFormElement){var t=e.target,r=e.submitter||void 0;n.delegate.shouldInterceptFormSubmission(t,r)&&(e.preventDefault(),e.stopImmediatePropagation(),n.delegate.formSubmissionIntercepted(t,r))}},this.delegate=e,this.element=t}return e.prototype.start=function(){this.element.addEventListener("submit",this.submitBubbled)},e.prototype.stop=function(){this.element.removeEventListener("submit",this.submitBubbled)},e}(),B=function(){function e(e,t){this.resolveRenderPromise=function(e){},this.resolveInterceptionPromise=function(e){},this.delegate=e,this.element=t}return e.prototype.scrollToAnchor=function(e){var t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})},e.prototype.scrollToAnchorFromLocation=function(e){this.scrollToAnchor(m(e))},e.prototype.scrollToElement=function(e){e.scrollIntoView()},e.prototype.focusElement=function(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))},e.prototype.scrollToPosition=function(e){var t=e.x,n=e.y;this.scrollRoot.scrollTo(t,n)},Object.defineProperty(e.prototype,"scrollRoot",{get:function(){return window},enumerable:!1,configurable:!0}),e.prototype.render=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,i=this;return c(this,(function(s){switch(s.label){case 0:if(t=e.isPreview,n=e.shouldRender,r=e.newSnapshot,!n)return[3,7];s.label=1;case 1:return s.trys.push([1,,5,6]),this.renderPromise=new Promise((function(e){return i.resolveRenderPromise=e})),this.renderer=e,this.prepareToRenderSnapshot(e),o=new Promise((function(e){return i.resolveInterceptionPromise=e})),this.delegate.allowsImmediateRender(r,this.resolveInterceptionPromise)?[3,3]:[4,o];case 2:s.sent(),s.label=3;case 3:return[4,this.renderSnapshot(e)];case 4:return s.sent(),this.delegate.viewRenderedSnapshot(r,t),this.finishRenderingSnapshot(e),[3,6];case 5:return delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise,[7];case 6:return[3,8];case 7:this.invalidate(),s.label=8;case 8:return[2]}}))}))},e.prototype.invalidate=function(){this.delegate.viewInvalidated()},e.prototype.prepareToRenderSnapshot=function(e){this.markAsPreview(e.isPreview),e.prepareToRender()},e.prototype.markAsPreview=function(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")},e.prototype.renderSnapshot=function(e){return a(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,e.render()];case 1:return t.sent(),[2]}}))}))},e.prototype.finishRenderingSnapshot=function(e){e.finishRendering()},e}(),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.invalidate=function(){this.element.innerHTML=""},Object.defineProperty(t.prototype,"snapshot",{get:function(){return new H(this.element)},enumerable:!1,configurable:!0}),t}(B),D=function(){function e(e,t){var n=this;this.clickBubbled=function(e){n.respondsToEventTarget(e.target)?n.clickEvent=e:delete n.clickEvent},this.linkClicked=function(e){n.clickEvent&&n.respondsToEventTarget(e.target)&&e.target instanceof Element&&n.delegate.shouldInterceptLinkClick(e.target,e.detail.url)&&(n.clickEvent.preventDefault(),e.preventDefault(),n.delegate.linkClickIntercepted(e.target,e.detail.url)),delete n.clickEvent},this.willVisit=function(){delete n.clickEvent},this.delegate=e,this.element=t}return e.prototype.start=function(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)},e.prototype.stop=function(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)},e.prototype.respondsToEventTarget=function(e){var t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element},e}(),V=function(){function e(e){this.permanentElementMap=e}return e.preservingPermanentElements=function(e,t){var n=new this(e);n.enter(),t(),n.leave()},e.prototype.enter=function(){for(var e in this.permanentElementMap){var t=l(this.permanentElementMap[e],2)[1];this.replaceNewPermanentElementWithPlaceholder(t)}},e.prototype.leave=function(){for(var e in this.permanentElementMap){var t=l(this.permanentElementMap[e],1)[0];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t)}},e.prototype.replaceNewPermanentElementWithPlaceholder=function(e){var t=function(e){var t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",e.id),t}(e);e.replaceWith(t)},e.prototype.replaceCurrentPermanentElementWithClone=function(e){var t=e.cloneNode(!0);e.replaceWith(t)},e.prototype.replacePlaceholderWithPermanentElement=function(e){var t=this.getPlaceholderById(e.id);null==t||t.replaceWith(e)},e.prototype.getPlaceholderById=function(e){return this.placeholders.find((function(t){return t.content==e}))},Object.defineProperty(e.prototype,"placeholders",{get:function(){return p(document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]"))},enumerable:!1,configurable:!0}),e}();var W=function(){function e(e,t,n){var r=this;this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.promise=new Promise((function(e,t){return r.resolvingFunctions={resolve:e,reject:t}}))}return Object.defineProperty(e.prototype,"shouldRender",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.prepareToRender=function(){},e.prototype.finishRendering=function(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)},e.prototype.createScriptElement=function(e){if("false"==e.getAttribute("data-turbo-eval"))return e;var t=document.createElement("script");return this.cspNonce&&(t.nonce=this.cspNonce),t.textContent=e.textContent,t.async=!1,function(e,t){var n,r;try{for(var o=u(p(t.attributes)),i=o.next();!i.done;i=o.next()){var s=i.value,a=s.name,c=s.value;e.setAttribute(a,c)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(t,e),t},e.prototype.preservingPermanentElements=function(e){V.preservingPermanentElements(this.permanentElementMap,e)},e.prototype.focusFirstAutofocusableElement=function(){var e=this.connectedSnapshot.firstAutofocusableElement;(function(e){return e&&"function"==typeof e.focus})(e)&&e.focus()},Object.defineProperty(e.prototype,"connectedSnapshot",{get:function(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentElement",{get:function(){return this.currentSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newElement",{get:function(){return this.newSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"permanentElementMap",{get:function(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cspNonce",{get:function(){var e;return null===(e=document.head.querySelector('meta[name="csp-nonce"]'))||void 0===e?void 0:e.getAttribute("content")},enumerable:!1,configurable:!0}),e}();var N=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"shouldRender",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.render=function(){return a(this,void 0,void 0,(function(){var e=this;return c(this,(function(t){switch(t.label){case 0:return[4,P()];case 1:return t.sent(),this.preservingPermanentElements((function(){e.loadFrameElement()})),this.scrollFrameIntoView(),[4,P()];case 2:return t.sent(),this.focusFirstAutofocusableElement(),[4,P()];case 3:return t.sent(),this.activateScriptElements(),[2]}}))}))},t.prototype.loadFrameElement=function(){var e,t=document.createRange();t.selectNodeContents(this.currentElement),t.deleteContents();var n=this.newElement,r=null===(e=n.ownerDocument)||void 0===e?void 0:e.createRange();r&&(r.selectNodeContents(n),this.currentElement.appendChild(r.extractContents()))},t.prototype.scrollFrameIntoView=function(){if(this.currentElement.autoscroll||this.newElement.autoscroll){var e=this.currentElement.firstElementChild,t=(n=this.currentElement.getAttribute("data-autoscroll-block"),r="end","end"==n||"start"==n||"center"==n||"nearest"==n?n:r);if(e)return e.scrollIntoView({block:t}),!0}var n,r;return!1},t.prototype.activateScriptElements=function(){var e,t;try{for(var n=u(this.newScriptElements),r=n.next();!r.done;r=n.next()){var o=r.value,i=this.createScriptElement(o);o.replaceWith(i)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},Object.defineProperty(t.prototype,"newScriptElements",{get:function(){return this.currentElement.querySelectorAll("script")},enumerable:!1,configurable:!0}),t}(W);var U,z=function(){function e(){var e=this;this.hiding=!1,this.value=0,this.visible=!1,this.trickle=function(){e.setValue(e.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}return Object.defineProperty(e,"defaultCSS",{get:function(){return R(U||(U=h(["\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 9999;\n        transition:\n          width ","ms ease-out,\n          opacity ","ms ","ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    "],["\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 9999;\n        transition:\n          width ","ms ease-out,\n          opacity ","ms ","ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    "])),e.animationDuration,e.animationDuration/2,e.animationDuration/2)},enumerable:!1,configurable:!0}),e.prototype.show=function(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())},e.prototype.hide=function(){var e=this;this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement((function(){e.uninstallProgressElement(),e.stopTrickling(),e.visible=!1,e.hiding=!1})))},e.prototype.setValue=function(e){this.value=e,this.refresh()},e.prototype.installStylesheetElement=function(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},e.prototype.installProgressElement=function(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},e.prototype.fadeProgressElement=function(t){this.progressElement.style.opacity="0",setTimeout(t,1.5*e.animationDuration)},e.prototype.uninstallProgressElement=function(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)},e.prototype.startTrickling=function(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,e.animationDuration))},e.prototype.stopTrickling=function(){window.clearInterval(this.trickleInterval),delete this.trickleInterval},e.prototype.refresh=function(){var e=this;requestAnimationFrame((function(){e.progressElement.style.width=10+90*e.value+"%"}))},e.prototype.createStylesheetElement=function(){var t=document.createElement("style");return t.type="text/css",t.textContent=e.defaultCSS,t},e.prototype.createProgressElement=function(){var e=document.createElement("div");return e.className="turbo-progress-bar",e},e.animationDuration=300,e}(),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.detailsByOuterHTML=t.children.filter((function(e){return!$(e)})).reduce((function(e,t){var n,r=t.outerHTML,o=r in e?e[r]:{type:K(t),tracked:Y(t),elements:[]};return s(s({},e),((n={})[r]=s(s({},o),{elements:p(o.elements,[t])}),n))}),{}),t}return o(t,e),Object.defineProperty(t.prototype,"trackedElementSignature",{get:function(){var e=this;return Object.keys(this.detailsByOuterHTML).filter((function(t){return e.detailsByOuterHTML[t].tracked})).join("")},enumerable:!1,configurable:!0}),t.prototype.getScriptElementsNotInSnapshot=function(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)},t.prototype.getStylesheetElementsNotInSnapshot=function(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)},t.prototype.getElementsMatchingTypeNotInSnapshot=function(e,t){var n=this;return Object.keys(this.detailsByOuterHTML).filter((function(e){return!(e in t.detailsByOuterHTML)})).map((function(e){return n.detailsByOuterHTML[e]})).filter((function(t){return t.type==e})).map((function(e){return l(e.elements,1)[0]}))},Object.defineProperty(t.prototype,"provisionalElements",{get:function(){var e=this;return Object.keys(this.detailsByOuterHTML).reduce((function(t,n){var r=e.detailsByOuterHTML[n],o=r.type,i=r.tracked,s=r.elements;return null!=o||i?s.length>1?p(t,s.slice(1)):t:p(t,s)}),[])},enumerable:!1,configurable:!0}),t.prototype.getMetaValue=function(e){var t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null},t.prototype.findMetaElementByName=function(e){var t=this;return Object.keys(this.detailsByOuterHTML).reduce((function(n,r){var o=l(t.detailsByOuterHTML[r].elements,1)[0];return function(e,t){return"meta"==e.tagName.toLowerCase()&&e.getAttribute("name")==t}(o,e)?o:n}),void 0)},t}(H);function K(e){return function(e){return"script"==e.tagName.toLowerCase()}(e)?"script":function(e){var t=e.tagName.toLowerCase();return"style"==t||"link"==t&&"stylesheet"==e.getAttribute("rel")}(e)?"stylesheet":void 0}function Y(e){return"reload"==e.getAttribute("data-turbo-track")}function $(e){return"noscript"==e.tagName.toLowerCase()}var J,Q,X=function(e){function t(t,n){var r=e.call(this,t)||this;return r.headSnapshot=n,r}return o(t,e),t.fromHTMLString=function(e){return void 0===e&&(e=""),this.fromDocument(L(e))},t.fromElement=function(e){return this.fromDocument(e.ownerDocument)},t.fromDocument=function(e){var t=e.head;return new this(e.body,new _(t))},t.prototype.clone=function(){return new t(this.element.cloneNode(!0),this.headSnapshot)},Object.defineProperty(t.prototype,"headElement",{get:function(){return this.headSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rootLocation",{get:function(){var e;return f(null!==(e=this.getSetting("root"))&&void 0!==e?e:"/")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cacheControlValue",{get:function(){return this.getSetting("cache-control")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPreviewable",{get:function(){return"no-preview"!=this.cacheControlValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCacheable",{get:function(){return"no-cache"!=this.cacheControlValue},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisitable",{get:function(){return"reload"!=this.getSetting("visit-control")},enumerable:!1,configurable:!0}),t.prototype.getSetting=function(e){return this.headSnapshot.getMetaValue("turbo-"+e)},t}(H);!function(e){e.visitStart="visitStart",e.requestStart="requestStart",e.requestEnd="requestEnd",e.visitEnd="visitEnd"}(J||(J={})),function(e){e.initialized="initialized",e.started="started",e.canceled="canceled",e.failed="failed",e.completed="completed"}(Q||(Q={}));var G,Z={action:"advance",historyChanged:!1};!function(e){e[e.networkFailure=0]="networkFailure",e[e.timeoutFailure=-1]="timeoutFailure",e[e.contentTypeMismatch=-2]="contentTypeMismatch"}(G||(G={}));var ee=function(){function e(e,t,n,r){void 0===r&&(r={}),this.identifier=O(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.snapshotCached=!1,this.state=Q.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=n||O();var o=s(s({},Z),r),i=o.action,a=o.historyChanged,c=o.referrer,u=o.snapshotHTML,l=o.response;this.action=i,this.historyChanged=a,this.referrer=c,this.snapshotHTML=u,this.response=l,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action)}return Object.defineProperty(e.prototype,"adapter",{get:function(){return this.delegate.adapter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.delegate.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.delegate.history},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restorationData",{get:function(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.state==Q.initialized&&(this.recordTimingMetric(J.visitStart),this.state=Q.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))},e.prototype.cancel=function(){this.state==Q.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=Q.canceled)},e.prototype.complete=function(){this.state==Q.started&&(this.recordTimingMetric(J.visitEnd),this.state=Q.completed,this.adapter.visitCompleted(this),this.delegate.visitCompleted(this))},e.prototype.fail=function(){this.state==Q.started&&(this.state=Q.failed,this.adapter.visitFailed(this))},e.prototype.changeHistory=function(){var e;if(!this.historyChanged){var t=this.location.href===(null===(e=this.referrer)||void 0===e?void 0:e.href)?"replace":this.action,n=this.getHistoryMethodForAction(t);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}},e.prototype.issueRequest=function(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new T(this,w.get,this.location),this.request.perform())},e.prototype.simulateRequest=function(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())},e.prototype.startRequest=function(){this.recordTimingMetric(J.requestStart),this.adapter.visitRequestStarted(this)},e.prototype.recordResponse=function(e){if(void 0===e&&(e=this.response),this.response=e,e){var t=e.statusCode;te(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}},e.prototype.finishRequest=function(){this.recordTimingMetric(J.requestEnd),this.adapter.visitRequestFinished(this)},e.prototype.loadResponse=function(){var e=this;if(this.response){var t=this.response,n=t.statusCode,r=t.responseHTML;this.render((function(){return a(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.cacheSnapshot(),this.view.renderPromise?[4,this.view.renderPromise]:[3,2];case 1:e.sent(),e.label=2;case 2:return te(n)&&null!=r?[4,this.view.renderPage(X.fromHTMLString(r))]:[3,4];case 3:return e.sent(),this.adapter.visitRendered(this),this.complete(),[3,6];case 4:return[4,this.view.renderError(X.fromHTMLString(r))];case 5:e.sent(),this.adapter.visitRendered(this),this.fail(),e.label=6;case 6:return[2]}}))}))}))}},e.prototype.getCachedSnapshot=function(){var e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!m(this.location)||e.hasAnchor(m(this.location)))&&("restore"==this.action||e.isPreviewable))return e},e.prototype.getPreloadedSnapshot=function(){if(this.snapshotHTML)return X.fromHTMLString(this.snapshotHTML)},e.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},e.prototype.loadCachedSnapshot=function(){var e=this,t=this.getCachedSnapshot();if(t){var n=this.shouldIssueRequest();this.render((function(){return a(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.cacheSnapshot(),this.isSamePage?(this.adapter.visitRendered(this),[3,5]):[3,1];case 1:return this.view.renderPromise?[4,this.view.renderPromise]:[3,3];case 2:e.sent(),e.label=3;case 3:return[4,this.view.renderPage(t,n)];case 4:e.sent(),this.adapter.visitRendered(this),n||this.complete(),e.label=5;case 5:return[2]}}))}))}))}},e.prototype.followRedirect=function(){this.redirectedToLocation&&!this.followedRedirect&&(this.location=this.redirectedToLocation,this.history.replace(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0)},e.prototype.goToSamePageAnchor=function(){var e=this;this.isSamePage&&this.render((function(){return a(e,void 0,void 0,(function(){return c(this,(function(e){return this.cacheSnapshot(),this.adapter.visitRendered(this),[2]}))}))}))},e.prototype.requestStarted=function(){this.startRequest()},e.prototype.requestPreventedHandlingResponse=function(e,t){},e.prototype.requestSucceededWithResponse=function(e,t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,t.responseHTML];case 1:return null==(e=n.sent())?this.recordResponse({statusCode:G.contentTypeMismatch}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:t.statusCode,responseHTML:e})),[2]}}))}))},e.prototype.requestFailedWithResponse=function(e,t){return a(this,void 0,void 0,(function(){var e;return c(this,(function(n){switch(n.label){case 0:return[4,t.responseHTML];case 1:return null==(e=n.sent())?this.recordResponse({statusCode:G.contentTypeMismatch}):this.recordResponse({statusCode:t.statusCode,responseHTML:e}),[2]}}))}))},e.prototype.requestErrored=function(e,t){this.recordResponse({statusCode:G.networkFailure})},e.prototype.requestFinished=function(){this.finishRequest()},e.prototype.performScroll=function(){this.scrolled||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)},e.prototype.scrollToRestoredPosition=function(){var e=this.restorationData.scrollPosition;if(e)return this.view.scrollToPosition(e),!0},e.prototype.scrollToAnchor=function(){var e=m(this.location);if(null!=e)return this.view.scrollToAnchor(e),!0},e.prototype.scrollToTop=function(){this.view.scrollToPosition({x:0,y:0})},e.prototype.recordTimingMetric=function(e){this.timingMetrics[e]=(new Date).getTime()},e.prototype.getTimingMetrics=function(){return s({},this.timingMetrics)},e.prototype.getHistoryMethodForAction=function(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}},e.prototype.hasPreloadedResponse=function(){return"object"==typeof this.response},e.prototype.shouldIssueRequest=function(){return!this.isSamePage&&("restore"!=this.action||!this.hasCachedSnapshot())},e.prototype.cacheSnapshot=function(){this.snapshotCached||(this.view.cacheSnapshot(),this.snapshotCached=!0)},e.prototype.render=function(e){return a(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){switch(n.label){case 0:return this.cancelRender(),[4,new Promise((function(e){t.frame=requestAnimationFrame((function(){return e()}))}))];case 1:return n.sent(),[4,e()];case 2:return n.sent(),delete this.frame,this.performScroll(),[2]}}))}))},e.prototype.cancelRender=function(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)},e}();function te(e){return e>=200&&e<300}var ne=function(){function e(e){var t=this;this.progressBar=new z,this.showProgressBar=function(){t.progressBar.show()},this.session=e}return e.prototype.visitProposedToLocation=function(e,t){this.navigator.startVisit(e,O(),t)},e.prototype.visitStarted=function(e){e.issueRequest(),e.changeHistory(),e.goToSamePageAnchor(),e.loadCachedSnapshot()},e.prototype.visitRequestStarted=function(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!=e.action?this.showProgressBarAfterDelay():this.showProgressBar()},e.prototype.visitRequestCompleted=function(e){e.loadResponse()},e.prototype.visitRequestFailedWithStatusCode=function(e,t){switch(t){case G.networkFailure:case G.timeoutFailure:case G.contentTypeMismatch:return this.reload();default:return e.loadResponse()}},e.prototype.visitRequestFinished=function(e){this.progressBar.setValue(1),this.hideProgressBar()},e.prototype.visitCompleted=function(e){e.followRedirect()},e.prototype.pageInvalidated=function(){this.reload()},e.prototype.visitFailed=function(e){},e.prototype.visitRendered=function(e){},e.prototype.showProgressBarAfterDelay=function(){this.progressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)},e.prototype.hideProgressBar=function(){this.progressBar.hide(),null!=this.progressBarTimeout&&(window.clearTimeout(this.progressBarTimeout),delete this.progressBarTimeout)},e.prototype.reload=function(){window.location.reload()},Object.defineProperty(e.prototype,"navigator",{get:function(){return this.session.navigator},enumerable:!1,configurable:!0}),e}(),re=function(){function e(){this.started=!1}return e.prototype.start=function(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeStaleElements,!1))},e.prototype.stop=function(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeStaleElements,!1))},e.prototype.removeStaleElements=function(){var e,t,n=p(document.querySelectorAll('[data-turbo-cache="false"]'));try{for(var r=u(n),o=r.next();!o.done;o=r.next()){o.value.remove()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e}(),oe=function(){function e(e){var t=this;this.started=!1,this.submitCaptured=function(){removeEventListener("submit",t.submitBubbled,!1),addEventListener("submit",t.submitBubbled,!1)},this.submitBubbled=function(e){if(!e.defaultPrevented){var n=e.target instanceof HTMLFormElement?e.target:void 0,r=e.submitter||void 0;if(n)"dialog"!=((null==r?void 0:r.getAttribute("formmethod"))||n.method)&&t.delegate.willSubmitForm(n,r)&&(e.preventDefault(),t.delegate.formSubmitted(n,r))}},this.delegate=e}return e.prototype.start=function(){this.started||(addEventListener("submit",this.submitCaptured,!0),this.started=!0)},e.prototype.stop=function(){this.started&&(removeEventListener("submit",this.submitCaptured,!0),this.started=!1)},e}(),ie=function(){function e(e){this.element=e,this.linkInterceptor=new D(this,e),this.formInterceptor=new q(this,e)}return e.prototype.start=function(){this.linkInterceptor.start(),this.formInterceptor.start()},e.prototype.stop=function(){this.linkInterceptor.stop(),this.formInterceptor.stop()},e.prototype.shouldInterceptLinkClick=function(e,t){return this.shouldRedirect(e)},e.prototype.linkClickIntercepted=function(e,t){var n=this.findFrameElement(e);n&&(n.src=t)},e.prototype.shouldInterceptFormSubmission=function(e,t){return this.shouldRedirect(e,t)},e.prototype.formSubmissionIntercepted=function(e,t){var n=this.findFrameElement(e);n&&n.delegate.formSubmissionIntercepted(e,t)},e.prototype.shouldRedirect=function(e,t){var n=this.findFrameElement(e);return!!n&&n!=e.closest("turbo-frame")},e.prototype.findFrameElement=function(e){var t=e.getAttribute("data-turbo-frame");if(t&&"_top"!=t){var n=this.element.querySelector("#"+t+":not([disabled])");if(n instanceof d)return n}},e}(),se=function(){function e(e){var t=this;this.restorationIdentifier=O(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=function(e){if(t.shouldHandlePopState()){var n=(e.state||{}).turbo;if(n){t.location=new URL(window.location.href);var r=n.restorationIdentifier;t.restorationIdentifier=r,t.delegate.historyPoppedToLocationWithRestorationIdentifier(t.location,r)}}},this.onPageLoad=function(e){return a(t,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,Promise.resolve()];case 1:return e.sent(),this.pageLoaded=!0,[2]}}))}))},this.delegate=e}return e.prototype.start=function(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))},e.prototype.stop=function(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)},e.prototype.push=function(e,t){this.update(history.pushState,e,t)},e.prototype.replace=function(e,t){this.update(history.replaceState,e,t)},e.prototype.update=function(e,t,n){void 0===n&&(n=O());var r={turbo:{restorationIdentifier:n}};e.call(history,r,"",t.href),this.location=t,this.restorationIdentifier=n},e.prototype.getRestorationDataForIdentifier=function(e){return this.restorationData[e]||{}},e.prototype.updateRestorationData=function(e){var t=this.restorationIdentifier,n=this.restorationData[t];this.restorationData[t]=s(s({},n),e)},e.prototype.assumeControlOfScrollRestoration=function(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(e=history.scrollRestoration)&&void 0!==e?e:"auto",history.scrollRestoration="manual")},e.prototype.relinquishControlOfScrollRestoration=function(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)},e.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},e.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"==document.readyState},e}(),ae=function(){function e(e){var t=this;this.started=!1,this.clickCaptured=function(){removeEventListener("click",t.clickBubbled,!1),addEventListener("click",t.clickBubbled,!1)},this.clickBubbled=function(e){if(t.clickEventIsSignificant(e)){var n=t.findLinkFromClickTarget(e.target);if(n){var r=t.getLocationForLink(n);t.delegate.willFollowLinkToLocation(n,r)&&(e.preventDefault(),t.delegate.followedLinkToLocation(n,r))}}},this.delegate=e}return e.prototype.start=function(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)},e.prototype.stop=function(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)},e.prototype.clickEventIsSignificant=function(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},e.prototype.findLinkFromClickTarget=function(e){if(e instanceof Element)return e.closest("a[href]:not([target^=_]):not([download])")},e.prototype.getLocationForLink=function(e){return f(e.getAttribute("href")||"")},e}();function ce(e){return"advance"==e||"replace"==e||"restore"==e}var ue,le=function(){function e(e){this.delegate=e}return e.prototype.proposeVisit=function(e,t){void 0===t&&(t={}),this.delegate.allowsVisitingLocation(e)&&this.delegate.visitProposedToLocation(e,t)},e.prototype.startVisit=function(e,t,n){void 0===n&&(n={}),this.stop(),this.currentVisit=new ee(this,f(e),t,s({referrer:this.location},n)),this.currentVisit.start()},e.prototype.submitForm=function(e,t){this.stop(),this.formSubmission=new F(this,e,t,!0),this.formSubmission.isIdempotent?this.proposeVisit(this.formSubmission.fetchRequest.url,{action:this.getActionForFormSubmission(this.formSubmission)}):this.formSubmission.start()},e.prototype.stop=function(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)},Object.defineProperty(e.prototype,"adapter",{get:function(){return this.delegate.adapter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this.delegate.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"history",{get:function(){return this.delegate.history},enumerable:!1,configurable:!0}),e.prototype.formSubmissionStarted=function(e){},e.prototype.formSubmissionSucceededWithResponse=function(e,t){return a(this,void 0,void 0,(function(){var n,r,o;return c(this,(function(i){switch(i.label){case 0:return e!=this.formSubmission?[3,2]:[4,t.responseHTML];case 1:(n=i.sent())&&(e.method!=w.get&&this.view.clearSnapshotCache(),r=t.statusCode,o={response:{statusCode:r,responseHTML:n}},this.proposeVisit(t.location,o)),i.label=2;case 2:return[2]}}))}))},e.prototype.formSubmissionFailedWithResponse=function(e,t){return a(this,void 0,void 0,(function(){var e,n;return c(this,(function(r){switch(r.label){case 0:return[4,t.responseHTML];case 1:return(e=r.sent())?(n=X.fromHTMLString(e),[4,this.view.renderPage(n)]):[3,3];case 2:r.sent(),this.view.clearSnapshotCache(),r.label=3;case 3:return[2]}}))}))},e.prototype.formSubmissionErrored=function(e,t){console.error(t)},e.prototype.formSubmissionFinished=function(e){},e.prototype.visitStarted=function(e){this.delegate.visitStarted(e)},e.prototype.visitCompleted=function(e){this.delegate.visitCompleted(e)},e.prototype.locationWithActionIsSamePage=function(e,t){return g(e)===g(this.view.lastRenderedLocation)&&(null!=m(e)||"restore"==t)},e.prototype.visitScrolledToSamePageLocation=function(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)},Object.defineProperty(e.prototype,"location",{get:function(){return this.history.location},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restorationIdentifier",{get:function(){return this.history.restorationIdentifier},enumerable:!1,configurable:!0}),e.prototype.getActionForFormSubmission=function(e){var t=e.formElement,n=e.submitter,r=(null==n?void 0:n.getAttribute("data-turbo-action"))||t.getAttribute("data-turbo-action");return ce(r)?r:"advance"},e}();!function(e){e[e.initial=0]="initial",e[e.loading=1]="loading",e[e.interactive=2]="interactive",e[e.complete=3]="complete"}(ue||(ue={}));var pe=function(){function e(e){var t=this;this.stage=ue.initial,this.started=!1,this.interpretReadyState=function(){var e=t.readyState;"interactive"==e?t.pageIsInteractive():"complete"==e&&t.pageIsComplete()},this.pageWillUnload=function(){t.delegate.pageWillUnload()},this.delegate=e}return e.prototype.start=function(){this.started||(this.stage==ue.initial&&(this.stage=ue.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)},e.prototype.stop=function(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)},e.prototype.pageIsInteractive=function(){this.stage==ue.loading&&(this.stage=ue.interactive,this.delegate.pageBecameInteractive())},e.prototype.pageIsComplete=function(){this.pageIsInteractive(),this.stage==ue.interactive&&(this.stage=ue.complete,this.delegate.pageLoaded())},Object.defineProperty(e.prototype,"readyState",{get:function(){return document.readyState},enumerable:!1,configurable:!0}),e}(),he=function(){function e(e){var t=this;this.started=!1,this.onScroll=function(){t.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}return e.prototype.start=function(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},e.prototype.stop=function(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)},e.prototype.updatePosition=function(e){this.delegate.scrollPositionChanged(e)},e}(),de=function(){function e(e){var t=this;this.sources=new Set,this.started=!1,this.inspectFetchResponse=function(e){var n=function(e){var t,n=null===(t=e.detail)||void 0===t?void 0:t.fetchResponse;if(n instanceof S)return n}(e);n&&function(e){var t;return(null!==(t=e.contentType)&&void 0!==t?t:"").startsWith(I.contentType)}(n)&&(e.preventDefault(),t.receiveMessageResponse(n))},this.receiveMessageEvent=function(e){t.started&&"string"==typeof e.data&&t.receiveMessageHTML(e.data)},this.delegate=e}return e.prototype.start=function(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))},e.prototype.stop=function(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))},e.prototype.connectStreamSource=function(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))},e.prototype.disconnectStreamSource=function(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))},e.prototype.streamSourceIsConnected=function(e){return this.sources.has(e)},e.prototype.receiveMessageResponse=function(e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,e.responseHTML];case 1:return(t=n.sent())&&this.receiveMessageHTML(t),[2]}}))}))},e.prototype.receiveMessageHTML=function(e){this.delegate.receivedMessageFromStream(new I(e))},e}();var fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){return this.replaceHeadAndBody(),this.activateScriptElements(),[2]}))}))},t.prototype.replaceHeadAndBody=function(){var e=document.documentElement,t=document.head,n=document.body;e.replaceChild(this.newHead,t),e.replaceChild(this.newElement,n)},t.prototype.activateScriptElements=function(){var e,t;try{for(var n=u(this.scriptElements),r=n.next();!r.done;r=n.next()){var o=r.value,i=o.parentNode;if(i){var s=this.createScriptElement(o);i.replaceChild(s,o)}}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},Object.defineProperty(t.prototype,"newHead",{get:function(){return this.newSnapshot.headSnapshot.element},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scriptElements",{get:function(){return p(document.documentElement.querySelectorAll("script"))},enumerable:!1,configurable:!0}),t}(W),me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"shouldRender",{get:function(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical},enumerable:!1,configurable:!0}),t.prototype.prepareToRender=function(){this.mergeHead()},t.prototype.render=function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){return this.replaceBody(),[2]}))}))},t.prototype.finishRendering=function(){e.prototype.finishRendering.call(this),this.isPreview||this.focusFirstAutofocusableElement()},Object.defineProperty(t.prototype,"currentHeadSnapshot",{get:function(){return this.currentSnapshot.headSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newHeadSnapshot",{get:function(){return this.newSnapshot.headSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newElement",{get:function(){return this.newSnapshot.element},enumerable:!1,configurable:!0}),t.prototype.mergeHead=function(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},t.prototype.replaceBody=function(){var e=this;this.preservingPermanentElements((function(){e.activateNewBody(),e.assignNewBody()}))},Object.defineProperty(t.prototype,"trackedElementsAreIdentical",{get:function(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature},enumerable:!1,configurable:!0}),t.prototype.copyNewHeadStylesheetElements=function(){var e,t;try{for(var n=u(this.newHeadStylesheetElements),r=n.next();!r.done;r=n.next()){var o=r.value;document.head.appendChild(o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.copyNewHeadScriptElements=function(){var e,t;try{for(var n=u(this.newHeadScriptElements),r=n.next();!r.done;r=n.next()){var o=r.value;document.head.appendChild(this.createScriptElement(o))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.removeCurrentHeadProvisionalElements=function(){var e,t;try{for(var n=u(this.currentHeadProvisionalElements),r=n.next();!r.done;r=n.next()){var o=r.value;document.head.removeChild(o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.copyNewHeadProvisionalElements=function(){var e,t;try{for(var n=u(this.newHeadProvisionalElements),r=n.next();!r.done;r=n.next()){var o=r.value;document.head.appendChild(o)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.activateNewBody=function(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()},t.prototype.activateNewBodyScriptElements=function(){var e,t;try{for(var n=u(this.newBodyScriptElements),r=n.next();!r.done;r=n.next()){var o=r.value,i=this.createScriptElement(o);o.replaceWith(i)}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},t.prototype.assignNewBody=function(){document.body&&this.newElement instanceof HTMLBodyElement?document.body.replaceWith(this.newElement):document.documentElement.appendChild(this.newElement)},Object.defineProperty(t.prototype,"newHeadStylesheetElements",{get:function(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newHeadScriptElements",{get:function(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentHeadProvisionalElements",{get:function(){return this.currentHeadSnapshot.provisionalElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newHeadProvisionalElements",{get:function(){return this.newHeadSnapshot.provisionalElements},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newBodyScriptElements",{get:function(){return this.newElement.querySelectorAll("script")},enumerable:!1,configurable:!0}),t}(W),ye=function(){function e(e){this.keys=[],this.snapshots={},this.size=e}return e.prototype.has=function(e){return v(e)in this.snapshots},e.prototype.get=function(e){if(this.has(e)){var t=this.read(e);return this.touch(e),t}},e.prototype.put=function(e,t){return this.write(e,t),this.touch(e),t},e.prototype.clear=function(){this.snapshots={}},e.prototype.read=function(e){return this.snapshots[v(e)]},e.prototype.write=function(e,t){this.snapshots[v(e)]=t},e.prototype.touch=function(e){var t=v(e),n=this.keys.indexOf(t);n>-1&&this.keys.splice(n,1),this.keys.unshift(t),this.trim()},e.prototype.trim=function(){var e,t;try{for(var n=u(this.keys.splice(this.size)),r=n.next();!r.done;r=n.next()){var o=r.value;delete this.snapshots[o]}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e}(),be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.snapshotCache=new ye(10),t.lastRenderedLocation=new URL(location.href),t}return o(t,e),t.prototype.renderPage=function(e,t){void 0===t&&(t=!1);var n=new me(this.snapshot,e,t);return this.render(n)},t.prototype.renderError=function(e){var t=new fe(this.snapshot,e,!1);return this.render(t)},t.prototype.clearSnapshotCache=function(){this.snapshotCache.clear()},t.prototype.cacheSnapshot=function(){return a(this,void 0,void 0,(function(){var e,t,n;return c(this,(function(r){switch(r.label){case 0:return this.shouldCacheSnapshot?(this.delegate.viewWillCacheSnapshot(),t=(e=this).snapshot,n=e.lastRenderedLocation,[4,new Promise((function(e){return setTimeout((function(){return e()}),0)}))]):[3,2];case 1:r.sent(),this.snapshotCache.put(n,t.clone()),r.label=2;case 2:return[2]}}))}))},t.prototype.getCachedSnapshotForLocation=function(e){return this.snapshotCache.get(e)},Object.defineProperty(t.prototype,"snapshot",{get:function(){return X.fromElement(this.element)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldCacheSnapshot",{get:function(){return this.snapshot.isCacheable},enumerable:!1,configurable:!0}),t}(B),ge=function(){function e(){this.navigator=new le(this),this.history=new se(this),this.view=new be(this,document.documentElement),this.adapter=new ne(this),this.pageObserver=new pe(this),this.cacheObserver=new re,this.linkClickObserver=new ae(this),this.formSubmitObserver=new oe(this),this.scrollObserver=new he(this),this.streamObserver=new de(this),this.frameRedirector=new ie(document.documentElement),this.enabled=!0,this.progressBarDelay=500,this.started=!1}return e.prototype.start=function(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.started=!0,this.enabled=!0)},e.prototype.disable=function(){this.enabled=!1},e.prototype.stop=function(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)},e.prototype.registerAdapter=function(e){this.adapter=e},e.prototype.visit=function(e,t){void 0===t&&(t={}),this.navigator.proposeVisit(f(e),t)},e.prototype.connectStreamSource=function(e){this.streamObserver.connectStreamSource(e)},e.prototype.disconnectStreamSource=function(e){this.streamObserver.disconnectStreamSource(e)},e.prototype.renderStreamMessage=function(e){document.documentElement.appendChild(I.wrap(e).fragment)},e.prototype.clearCache=function(){this.view.clearSnapshotCache()},e.prototype.setProgressBarDelay=function(e){this.progressBarDelay=e},Object.defineProperty(e.prototype,"location",{get:function(){return this.history.location},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restorationIdentifier",{get:function(){return this.history.restorationIdentifier},enumerable:!1,configurable:!0}),e.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated()},e.prototype.scrollPositionChanged=function(e){this.history.updateRestorationData({scrollPosition:e})},e.prototype.willFollowLinkToLocation=function(e,t){return ve(e)&&this.locationIsVisitable(t)&&this.applicationAllowsFollowingLinkToLocation(e,t)},e.prototype.followedLinkToLocation=function(e,t){var n=this.getActionForLink(e);this.convertLinkWithMethodClickToFormSubmission(e)||this.visit(t.href,{action:n})},e.prototype.convertLinkWithMethodClickToFormSubmission=function(e){var t,n=e.getAttribute("data-turbo-method");if(n){var r=document.createElement("form");return r.method=n,r.action=e.getAttribute("href")||"undefined",null===(t=e.parentNode)||void 0===t||t.insertBefore(r,e),E("submit",{cancelable:!0,target:r})}return!1},e.prototype.allowsVisitingLocation=function(e){return this.applicationAllowsVisitingLocation(e)},e.prototype.visitProposedToLocation=function(e,t){we(e),this.adapter.visitProposedToLocation(e,t)},e.prototype.visitStarted=function(e){we(e.location),this.notifyApplicationAfterVisitingLocation(e.location,e.action)},e.prototype.visitCompleted=function(e){this.notifyApplicationAfterPageLoad(e.getTimingMetrics())},e.prototype.locationWithActionIsSamePage=function(e,t){return this.navigator.locationWithActionIsSamePage(e,t)},e.prototype.visitScrolledToSamePageLocation=function(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)},e.prototype.willSubmitForm=function(e,t){return ve(e)&&ve(t)},e.prototype.formSubmitted=function(e,t){this.navigator.submitForm(e,t)},e.prototype.pageBecameInteractive=function(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},e.prototype.pageLoaded=function(){this.history.assumeControlOfScrollRestoration()},e.prototype.pageWillUnload=function(){this.history.relinquishControlOfScrollRestoration()},e.prototype.receivedMessageFromStream=function(e){this.renderStreamMessage(e)},e.prototype.viewWillCacheSnapshot=function(){this.notifyApplicationBeforeCachingSnapshot()},e.prototype.allowsImmediateRender=function(e,t){var n=e.element;return!this.notifyApplicationBeforeRender(n,t).defaultPrevented},e.prototype.viewRenderedSnapshot=function(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()},e.prototype.viewInvalidated=function(){this.adapter.pageInvalidated()},e.prototype.applicationAllowsFollowingLinkToLocation=function(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented},e.prototype.applicationAllowsVisitingLocation=function(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented},e.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,t){return E("turbo:click",{target:e,detail:{url:t.href},cancelable:!0})},e.prototype.notifyApplicationBeforeVisitingLocation=function(e){return E("turbo:before-visit",{detail:{url:e.href},cancelable:!0})},e.prototype.notifyApplicationAfterVisitingLocation=function(e,t){return E("turbo:visit",{detail:{url:e.href,action:t}})},e.prototype.notifyApplicationBeforeCachingSnapshot=function(){return E("turbo:before-cache")},e.prototype.notifyApplicationBeforeRender=function(e,t){return E("turbo:before-render",{detail:{newBody:e,resume:t},cancelable:!0})},e.prototype.notifyApplicationAfterRender=function(){return E("turbo:render")},e.prototype.notifyApplicationAfterPageLoad=function(e){return void 0===e&&(e={}),E("turbo:load",{detail:{url:this.location.href,timing:e}})},e.prototype.notifyApplicationAfterVisitingSamePageLocation=function(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))},e.prototype.getActionForLink=function(e){var t=e.getAttribute("data-turbo-action");return ce(t)?t:"advance"},e.prototype.locationIsVisitable=function(e){return b(e,this.snapshot.rootLocation)&&!!y(e).match(/^(?:|\.(?:htm|html|xhtml))$/)},Object.defineProperty(e.prototype,"snapshot",{get:function(){return this.view.snapshot},enumerable:!1,configurable:!0}),e}();function ve(e){var t=null==e?void 0:e.closest("[data-turbo]");return!t||"false"!=t.getAttribute("data-turbo")}function we(e){Object.defineProperties(e,Se)}var Se={absoluteURL:{get:function(){return this.toString()}}},Ee=function(){function e(e){this.resolveVisitPromise=function(){},this.connected=!1,this.hasBeenLoaded=!1,this.settingSourceURL=!1,this.element=e,this.view=new x(this,this.element),this.appearanceObserver=new j(this,this.element),this.linkInterceptor=new D(this,this.element),this.formInterceptor=new q(this,this.element)}return e.prototype.connect=function(){this.connected||(this.connected=!0,this.loadingStyle==i.lazy&&this.appearanceObserver.start(),this.linkInterceptor.start(),this.formInterceptor.start(),this.sourceURLChanged())},e.prototype.disconnect=function(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.linkInterceptor.stop(),this.formInterceptor.stop())},e.prototype.disabledChanged=function(){this.loadingStyle==i.eager&&this.loadSourceURL()},e.prototype.sourceURLChanged=function(){(this.loadingStyle==i.eager||this.hasBeenLoaded)&&this.loadSourceURL()},e.prototype.loadingStyleChanged=function(){this.loadingStyle==i.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())},e.prototype.loadSourceURL=function(){return a(this,void 0,void 0,(function(){var e,t;return c(this,(function(n){switch(n.label){case 0:if(this.settingSourceURL||!this.enabled||!this.isActive||this.sourceURL==this.currentURL)return[3,4];if(e=this.currentURL,this.currentURL=this.sourceURL,!this.sourceURL)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.element.loaded=this.visit(this.sourceURL),this.appearanceObserver.stop(),[4,this.element.loaded];case 2:return n.sent(),this.hasBeenLoaded=!0,[3,4];case 3:throw t=n.sent(),this.currentURL=e,t;case 4:return[2]}}))}))},e.prototype.loadResponse=function(e){return a(this,void 0,void 0,(function(){var t,n,r,o,i,s;return c(this,(function(a){switch(a.label){case 0:e.redirected&&(this.sourceURL=e.response.url),a.label=1;case 1:return a.trys.push([1,8,,9]),[4,e.responseHTML];case 2:return(t=a.sent())?(n=L(t).body,o=H.bind,[4,this.extractForeignFrameElement(n)]):[3,7];case 3:return r=new(o.apply(H,[void 0,a.sent()])),i=new N(this.view.snapshot,r,!1),this.view.renderPromise?[4,this.view.renderPromise]:[3,5];case 4:a.sent(),a.label=5;case 5:return[4,this.view.render(i)];case 6:a.sent(),a.label=7;case 7:return[3,9];case 8:return s=a.sent(),console.error(s),this.view.invalidate(),[3,9];case 9:return[2]}}))}))},e.prototype.elementAppearedInViewport=function(e){this.loadSourceURL()},e.prototype.shouldInterceptLinkClick=function(e,t){return!e.hasAttribute("data-turbo-method")&&this.shouldInterceptNavigation(e)},e.prototype.linkClickIntercepted=function(e,t){this.navigateFrame(e,t)},e.prototype.shouldInterceptFormSubmission=function(e,t){return this.shouldInterceptNavigation(e,t)},e.prototype.formSubmissionIntercepted=function(e,t){if(this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new F(this,e,t),this.formSubmission.fetchRequest.isIdempotent)this.navigateFrame(e,this.formSubmission.fetchRequest.url.href);else{var n=this.formSubmission.fetchRequest;this.prepareHeadersForRequest(n.headers,n),this.formSubmission.start()}},e.prototype.prepareHeadersForRequest=function(e,t){e["Turbo-Frame"]=this.id},e.prototype.requestStarted=function(e){this.element.setAttribute("busy","")},e.prototype.requestPreventedHandlingResponse=function(e,t){this.resolveVisitPromise()},e.prototype.requestSucceededWithResponse=function(e,t){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.loadResponse(t)];case 1:return e.sent(),this.resolveVisitPromise(),[2]}}))}))},e.prototype.requestFailedWithResponse=function(e,t){console.error(t),this.resolveVisitPromise()},e.prototype.requestErrored=function(e,t){console.error(t),this.resolveVisitPromise()},e.prototype.requestFinished=function(e){this.element.removeAttribute("busy")},e.prototype.formSubmissionStarted=function(e){this.findFrameElement(e.formElement).setAttribute("busy","")},e.prototype.formSubmissionSucceededWithResponse=function(e,t){this.findFrameElement(e.formElement).delegate.loadResponse(t)},e.prototype.formSubmissionFailedWithResponse=function(e,t){this.element.delegate.loadResponse(t)},e.prototype.formSubmissionErrored=function(e,t){console.error(t)},e.prototype.formSubmissionFinished=function(e){this.findFrameElement(e.formElement).removeAttribute("busy")},e.prototype.allowsImmediateRender=function(e,t){return!0},e.prototype.viewRenderedSnapshot=function(e,t){},e.prototype.viewInvalidated=function(){},e.prototype.visit=function(e){return a(this,void 0,void 0,(function(){var t,n=this;return c(this,(function(r){return t=new T(this,w.get,f(e)),[2,new Promise((function(e){n.resolveVisitPromise=function(){n.resolveVisitPromise=function(){},e()},t.perform()}))]}))}))},e.prototype.navigateFrame=function(e,t){this.findFrameElement(e).src=t},e.prototype.findFrameElement=function(e){var t;return null!==(t=Pe(e.getAttribute("data-turbo-frame")||this.element.getAttribute("target")))&&void 0!==t?t:this.element},e.prototype.extractForeignFrameElement=function(e){return a(this,void 0,void 0,(function(){var t,n,r;return c(this,(function(o){switch(o.label){case 0:n=CSS.escape(this.id),o.label=1;case 1:return o.trys.push([1,5,,6]),(t=Le(e.querySelector("turbo-frame#"+n),this.currentURL))?[2,t]:(t=Le(e.querySelector("turbo-frame[src][recurse~="+n+"]"),this.currentURL))?[4,t.loaded]:[3,4];case 2:return o.sent(),[4,this.extractForeignFrameElement(t)];case 3:return[2,o.sent()];case 4:return console.error('Response has no matching <turbo-frame id="'+n+'"> element'),[3,6];case 5:return r=o.sent(),console.error(r),[3,6];case 6:return[2,new d]}}))}))},e.prototype.shouldInterceptNavigation=function(e,t){var n=e.getAttribute("data-turbo-frame")||this.element.getAttribute("target");if(!this.enabled||"_top"==n)return!1;if(n){var r=Pe(n);if(r)return!r.disabled}return!!ve(e)&&!(t&&!ve(t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.element.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return!this.element.disabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sourceURL",{get:function(){if(this.element.src)return this.element.src},set:function(e){this.settingSourceURL=!0,this.element.src=null!=e?e:null,this.currentURL=this.element.src,this.settingSourceURL=!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loadingStyle",{get:function(){return this.element.loading},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return void 0!==this.formSubmission||void 0!==this.resolveVisitPromise()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this.element.isActive&&this.connected},enumerable:!1,configurable:!0}),e}();function Pe(e){if(null!=e){var t=document.getElementById(e);if(t instanceof d)return t}}function Le(e,t){if(e){var n=e.getAttribute("src");if(null!=n&&null!=t&&(r=t,f(n).href==f(r).href))throw new Error('Matching <turbo-frame id="'+e.id+'"> element has a source URL which references itself');if(e.ownerDocument!==document&&(e=document.importNode(e,!0)),e instanceof d)return e.connectedCallback(),e}var r}var Re,Ce={after:function(){var e=this;this.targetElements.forEach((function(t){var n;return null===(n=t.parentElement)||void 0===n?void 0:n.insertBefore(e.templateContent,t.nextSibling)}))},append:function(){var e=this;this.removeDuplicateTargetChildren(),this.targetElements.forEach((function(t){return t.append(e.templateContent)}))},before:function(){var e=this;this.targetElements.forEach((function(t){var n;return null===(n=t.parentElement)||void 0===n?void 0:n.insertBefore(e.templateContent,t)}))},prepend:function(){var e=this;this.removeDuplicateTargetChildren(),this.targetElements.forEach((function(t){return t.prepend(e.templateContent)}))},remove:function(){this.targetElements.forEach((function(e){return e.remove()}))},replace:function(){var e=this;this.targetElements.forEach((function(t){return t.replaceWith(e.templateContent)}))},update:function(){var e=this;this.targetElements.forEach((function(t){t.innerHTML="",t.append(e.templateContent)}))}},Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.connectedCallback=function(){return a(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),[4,this.render()];case 1:return t.sent(),[3,4];case 2:return e=t.sent(),console.error(e),[3,4];case 3:return this.disconnect(),[7];case 4:return[2]}}))}))},t.prototype.render=function(){var e;return a(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){return[2,null!==(e=this.renderPromise)&&void 0!==e?e:this.renderPromise=a(t,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return this.dispatchEvent(this.beforeRenderEvent)?[4,P()]:[3,2];case 1:e.sent(),this.performAction(),e.label=2;case 2:return[2]}}))}))]}))}))},t.prototype.disconnect=function(){try{this.remove()}catch(e){}},t.prototype.removeDuplicateTargetChildren=function(){this.duplicateChildren.forEach((function(e){return e.remove()}))},Object.defineProperty(t.prototype,"duplicateChildren",{get:function(){var e,t=this.targetElements.flatMap((function(e){return p(e.children)})).filter((function(e){return!!e.id})),n=p(null===(e=this.templateContent)||void 0===e?void 0:e.children).filter((function(e){return!!e.id})).map((function(e){return e.id}));return t.filter((function(e){return n.includes(e.id)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"performAction",{get:function(){if(this.action){var e=Ce[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetElements",{get:function(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void this.raise("target or targets attribute is missing")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateContent",{get:function(){return this.templateElement.content.cloneNode(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"templateElement",{get:function(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"action",{get:function(){return this.getAttribute("action")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.getAttribute("target")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targets",{get:function(){return this.getAttribute("targets")},enumerable:!1,configurable:!0}),t.prototype.raise=function(e){throw new Error(this.description+": "+e)},Object.defineProperty(t.prototype,"description",{get:function(){var e,t;return null!==(t=(null!==(e=this.outerHTML.match(/<[^>]+>/))&&void 0!==e?e:[])[0])&&void 0!==t?t:"<turbo-stream>"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beforeRenderEvent",{get:function(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetElementsById",{get:function(){var e,t=null===(e=this.ownerDocument)||void 0===e?void 0:e.getElementById(this.target);return null!==t?[t]:[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"targetElementsByQuery",{get:function(){var e,t=null===(e=this.ownerDocument)||void 0===e?void 0:e.querySelectorAll(this.targets);return 0!==t.length?Array.prototype.slice.call(t):[]},enumerable:!1,configurable:!0}),t}(HTMLElement);d.delegateConstructor=Ee,customElements.define("turbo-frame",d),customElements.define("turbo-stream",Oe),function(){var e=document.currentScript;if(e&&!e.hasAttribute("data-turbo-suppress-warning"))for(;e=e.parentElement;)if(e==document.body)return console.warn(R(Re||(Re=h(['\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s\n      '],['\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s\n      ']))),e.outerHTML)}();var Te=new ge,Ae=Te.navigator;function ke(){Te.start()}function je(e){Te.registerAdapter(e)}function Ie(e,t){Te.visit(e,t)}function Fe(e){Te.connectStreamSource(e)}function Me(e){Te.disconnectStreamSource(e)}function He(e){Te.renderStreamMessage(e)}function qe(){Te.clearCache()}function Be(e){Te.setProgressBarDelay(e)}var xe=Object.freeze({__proto__:null,navigator:Ae,PageRenderer:me,PageSnapshot:X,start:ke,registerAdapter:je,visit:Ie,connectStreamSource:Fe,disconnectStreamSource:Me,renderStreamMessage:He,clearCache:qe,setProgressBarDelay:Be});window.Turbo=xe,ke(),e.PageRenderer=me,e.PageSnapshot=X,e.clearCache=qe,e.connectStreamSource=Fe,e.disconnectStreamSource=Me,e.navigator=Ae,e.registerAdapter=je,e.renderStreamMessage=He,e.setProgressBarDelay=Be,e.start=ke,e.visit=Ie,Object.defineProperty(e,"__esModule",{value:!0})}));
